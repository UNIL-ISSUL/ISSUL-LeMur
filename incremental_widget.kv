<IncrementalWidget>:
    orientation: 'vertical'
    padding: [10, 10, 10, 10]

    BoxLayout:
        size_hint_y: None
        height: '40dp'
        padding: [0, 0, 0, 10]
        Label:
            text: 'Nom du sujet:'
            size_hint_x: None
            width: '100dp'
        TextInput:
            id: subject_name_input
            text: 'sujet'
            multiline: False
    #---- PARTIE TABLEAU DE SAISIE ----#
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.3

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: '40dp'
                        
            Button:
                text: 'Ajouter un point'
                on_press: root.add_point()
            
            Button:
                text: "Charger profil"
                on_release: root.load_profile()
            Button:
                text: "Sauvegarder profil"
                on_release: root.save_profile()

        GridLayout:
            cols : 5
            size_hint_y: None
            height: "30dp"
            row_default_height: 30
            row_force_default: True
            padding: [0, 4]
            spacing: [4, 4]
            Label:
                text: 'Temps [s]'
            Label:
                text: 'Inclinaison [°]'
            Label:
                text: 'Vitesse [km/h]'
            Label:
                text: 'Vitesse Asc. [m/h]'
            Label:
                text: ''
                size_hint_x: None
                width: 100

        BoxLayout:         # conteneur pour ScrollView
            orientation: 'vertical'
            size_hint_y: 1   # prend tout l'espace restant dans la zone 0.3

            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                bar_width: 10
                size_hint_y: 1

                GridLayout:
                    id: points_grid
                    cols: 5
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height: "30dp"
                    row_force_default: True
                    padding: [0, 4]
                    spacing: [4, 4]

    #---- ESPACE DE SEPARATION ----#
    BoxLayout:
        size_hint_y: None
        height: '10dp'

    #---- PARTIE GRAPHIQUE ----#
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.4

        BoxLayout:
            size_hint_y: None
            height: '40dp'
            Label:
                text: 'Abscisse:'
                size_hint_x: None
                width: '100dp'
            ToggleButton:
                text: 'Inclinaison'
                group: 'graph_axis'
                state: 'down'
                allow_no_selection: False
                on_press: root.set_graph_variable('incl')
            ToggleButton:
                text: 'Vitesse'
                group: 'graph_axis'
                allow_no_selection: False
                on_press: root.set_graph_variable('speed')
            ToggleButton:
                text: 'Vitesse Asc.'
                group: 'graph_axis'
                allow_no_selection: False
                on_press: root.set_graph_variable('asc')

        BoxLayout:
            orientation: 'horizontal'
            BoxLayout:
                id: graph_view
            BoxLayout:
                size_hint_x: None
                width: '50dp'
                orientation: 'vertical'
                Label:
                    text: 'Zoom'
                    size_hint_y: None
                    height: '20dp'
                Slider:
                    id: zoom_slider
                    orientation: 'vertical'
                    min: 1
                    max: 20
                    value: root.zoom
                    step: 1
                    on_value: root.update_graph_zoom(self.value)
    #---- ESPACE DE SEPARATION ----#
    BoxLayout:
        size_hint_y: None
        height: '10dp'  
    #---- PARTIE EVENEMENTS ----#
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.3

        BoxLayout:
            size_hint_y: None
            height: "40dp"
            Button:
                text: "Ajouter un événement"
                on_release: root.add_event()
   
        GridLayout:
            cols: 4
            size_hint_y: None
            height: self.minimum_height
            row_default_height: "30dp"
            row_force_default: True

            # En-têtes
            Label: 
                text: "Temps [s]"
            Label: 
                text: "Vitesse [km/h]"
            Label: 
                text: "Inclinaison [°]"
            Label: 
                text: "Vitesse Asc. [m/h]"
            # Label: 
            #     text: ""

        BoxLayout:         # conteneur pour ScrollView
            orientation: 'vertical'
            size_hint_y: 1   # prend tout l'espace restant dans la zone 0.3
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                bar_width: 10
                size_hint_y: 1
                GridLayout:
                    id: events_grid
                    cols: 4
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height: "30dp"
                    row_force_default: True


        
